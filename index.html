<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amorend - Creative Developer</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <!-- GSAP & ScrollTrigger -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <!-- Lenis Smooth Scroll -->
    <script src="https://cdn.jsdelivr.net/npm/@studio-freight/lenis@1.0.42/dist/lenis.min.js"></script>
    <style>
        :root {
            /* 现代冷色调配色 - 蓝天都市主题 */
            --bg-color: #F0F0F0; /* 建筑白/浅灰背景 */
            --text-color: #1a1a1a; /* 深黑色文字 */
            --accent-color: #0047AB; /* 深蓝色强调色 */
            --secondary-accent: #1E90FF; /* 天空蓝 */
            --sky-light: #87CEEB; /* 浅天蓝 */
            --white-accent: #FFFFFF; /* 纯白元素 */
            --nav-border: rgba(0, 71, 171, 0.15);
            --font-main: 'Inter', sans-serif;
            --font-mono: 'JetBrains Mono', monospace;
            --transition-speed: 0.3s;
        }

        [data-theme="dark"] {
            /* 深色模式 - 深邃夜空 */
            --bg-color: #0a1628;
            --text-color: #F0F0F0;
            --accent-color: #1E90FF;
            --secondary-accent: #87CEEB;
            --sky-light: #4A90E2;
            --white-accent: #1a2a3a;
            --nav-border: rgba(30, 144, 255, 0.2);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        /* 防止页面加载时的闪烁 */
        body:not(.loaded) .work-item {
            opacity: 0;
        }

        body {
            background:
                radial-gradient(ellipse at 15% 25%, rgba(255, 255, 255, 0.5) 0%, transparent 45%),
                radial-gradient(ellipse at 85% 65%, rgba(30, 144, 255, 0.15) 0%, transparent 50%),
                linear-gradient(180deg,
                    #87CEEB 0%,           /* 浅天蓝 - 顶部 */
                    #1E90FF 30%,          /* 天空蓝 */
                    #0047AB 60%,          /* 深蓝 */
                    #003366 85%,          /* 更深蓝 */
                    #001a33 100%          /* 最深蓝 - 底部 */
                );
            background-attachment: fixed;
            color: var(--text-color);
            font-family: var(--font-main);
            transition: all 0.5s ease;
            line-height: 1.4;
            overflow-x: hidden;
            min-height: 100vh;
            position: relative;
        }

        /* --- Generative Line Art Canvas Background --- */
        #line-art-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
            opacity: 0.15;
        }

        [data-theme="dark"] body {
            background:
                radial-gradient(ellipse at 25% 20%, rgba(30, 144, 255, 0.15) 0%, transparent 50%),
                radial-gradient(ellipse at 75% 75%, rgba(135, 206, 235, 0.1) 0%, transparent 45%),
                linear-gradient(180deg,
                    #0a1628 0%,           /* 深邃夜空 - 顶部 */
                    #1a2a3a 25%,          /* 深蓝灰 */
                    #0047AB 50%,          /* 深蓝 */
                    #1E90FF 75%,          /* 亮蓝 */
                    #0a1628 100%          /* 深邃夜空 - 底部 */
                );
        }

        html.lenis {
            height: auto;
        }

        .lenis.lenis-smooth {
            scroll-behavior: auto;
        }

        .lenis.lenis-smooth [data-lenis-prevent] {
            overscroll-behavior: contain;
        }

        .lenis.lenis-stopped {
            overflow: hidden;
        }

        .lenis.lenis-scrolling iframe {
            pointer-events: none;
        }

        a {
            color: inherit;
            text-decoration: none;
        }

        ul {
            list-style: none;
        }

        /* --- Header --- */
        header {
            position: sticky;
            top: 20px;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem 2.5rem;
            margin: 0 2rem;
            font-family: var(--font-mono);
            font-size: 1.15rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.4);
            box-shadow:
                0 8px 32px rgba(0, 71, 171, 0.15),
                0 2px 8px rgba(0, 0, 0, 0.08),
                inset 0 1px 0 rgba(255, 255, 255, 0.6),
                inset 0 -1px 0 rgba(0, 0, 0, 0.05);
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1),
                        background 0.4s cubic-bezier(0.4, 0, 0.2, 1),
                        box-shadow 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            will-change: transform;
        }

        header:hover {
            background: rgba(255, 255, 255, 0.35);
            box-shadow:
                0 12px 48px rgba(0, 71, 171, 0.2),
                0 4px 12px rgba(0, 0, 0, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.7),
                inset 0 -1px 0 rgba(0, 0, 0, 0.05);
            transform: translateY(-2px);
        }

        [data-theme="dark"] header {
            background: rgba(15, 23, 42, 0.65);
            backdrop-filter: blur(24px) saturate(180%);
            -webkit-backdrop-filter: blur(24px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.18);
            box-shadow:
                0 8px 32px rgba(0, 0, 0, 0.4),
                0 2px 8px rgba(0, 0, 0, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.12),
                inset 0 -1px 0 rgba(0, 0, 0, 0.3);
        }

        [data-theme="dark"] header:hover {
            background: rgba(15, 23, 42, 0.8);
            box-shadow:
                0 12px 48px rgba(0, 0, 0, 0.5),
                0 4px 12px rgba(0, 0, 0, 0.25),
                inset 0 1px 0 rgba(255, 255, 255, 0.15),
                inset 0 -1px 0 rgba(0, 0, 0, 0.3);
        }

        .nav-links a {
            margin-left: 2rem;
            position: relative;
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -4px;
            left: 0;
            background-color: var(--accent-color);
            transition: width 0.3s;
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        .nav-links a:hover {
            color: var(--accent-color);
            text-shadow: 0 0 10px rgba(0, 71, 171, 0.3);
        }

        #theme-toggle {
            cursor: pointer;
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 0.4rem 0.8rem;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0, 71, 171, 0.1);
        }

        #theme-toggle:hover {
            background: linear-gradient(135deg, var(--accent-color), var(--secondary-accent));
            border-color: rgba(255, 255, 255, 0.5);
            color: var(--white-accent);
            box-shadow: 0 4px 16px rgba(0, 71, 171, 0.25);
            transform: translateY(-2px);
        }

        /* 音乐控制按钮 - 右下角浮动 */
        .music-toggle {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 56px;
            height: 56px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow:
                0 8px 32px rgba(0, 71, 171, 0.2),
                0 4px 16px rgba(0, 71, 171, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.4);
            z-index: 1000;
        }

        .music-toggle:hover {
            background: linear-gradient(135deg, var(--accent-color), var(--secondary-accent));
            border-color: rgba(255, 255, 255, 0.5);
            box-shadow:
                0 12px 40px rgba(0, 71, 171, 0.35),
                0 6px 20px rgba(0, 71, 171, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.5);
            transform: scale(1.1) translateY(-4px);
        }

        .music-toggle:active {
            transform: scale(1.05) translateY(-2px);
        }

        .music-toggle svg {
            width: 24px;
            height: 24px;
            fill: var(--text-color);
            transition: fill 0.3s ease;
        }

        .music-toggle:hover svg {
            fill: var(--white-accent);
        }

        .music-toggle.playing {
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% {
                box-shadow:
                    0 8px 32px rgba(0, 71, 171, 0.2),
                    0 4px 16px rgba(0, 71, 171, 0.1),
                    inset 0 1px 0 rgba(255, 255, 255, 0.4);
            }
            50% {
                box-shadow:
                    0 12px 48px rgba(0, 71, 171, 0.35),
                    0 6px 24px rgba(0, 71, 171, 0.2),
                    inset 0 1px 0 rgba(255, 255, 255, 0.5);
            }
        }

        /* --- Hero Section --- */
        .hero {
            padding: 4rem 2rem;
            text-align: left;
            position: relative;
            z-index: 1;
        }

        h1 {
            font-size: clamp(3rem, 10vw, 8rem);
            font-weight: 800;
            line-height: 0.9;
            text-transform: uppercase;
            letter-spacing: -0.02em;
            margin-bottom: 2rem;
            background: linear-gradient(135deg,
                #001a33 0%,
                #0047AB 50%,
                #87CEEB 100%
            );
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            will-change: transform, opacity;
        }

        [data-theme="dark"] h1 {
            background: linear-gradient(135deg,
                #F0F0F0 0%,
                #1E90FF 50%,
                #87CEEB 100%
            );
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-subtitle {
            font-family: var(--font-mono);
            font-size: 1.2rem;
            max-width: 600px;
            color: var(--text-color);
            opacity: 0.85;
            will-change: transform, opacity;
        }

        .hero-subtitle::before {
            content: '';
            display: inline-block;
            width: 60px;
            height: 3px;
            background: linear-gradient(90deg, var(--accent-color), var(--secondary-accent));
            margin-right: 1rem;
            vertical-align: middle;
            box-shadow: 0 0 10px rgba(0, 71, 171, 0.3);
        }

        /* --- Section Divider --- */
        .section-divider {
            width: 100%;
            height: 2px;
            margin: 3rem 0;
            background: linear-gradient(90deg,
                transparent 0%,
                var(--accent-color) 20%,
                var(--secondary-accent) 50%,
                var(--accent-color) 80%,
                transparent 100%
            );
            background-size: 200% 100%;
            animation: gradientShift 3s ease infinite;
            will-change: background-position;
            position: relative;
            z-index: 1;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        /* --- About Section --- */
        .section-title {
            font-family: var(--font-mono);
            font-size: 1.8rem;
            margin-bottom: 2rem;
            padding: 0 2rem;
            display: inline-block;
            border-bottom: 3px solid var(--accent-color);
            color: var(--accent-color);
            font-weight: 700;
            text-shadow: 0 0 10px rgba(0, 71, 171, 0.3);
            will-change: transform, opacity;
            position: relative;
            z-index: 1;
        }

        section {
            position: relative;
            z-index: 1;
        }

        .about-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            padding: 0 2rem 4rem 2rem;
        }

        .bio p {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            will-change: transform, opacity;
        }

        .bio-details {
            font-family: var(--font-mono);
            font-size: 0.9rem;
            opacity: 0.8;
            max-width: 500px;
        }

        .awards h3 {
            font-family: var(--font-mono);
            margin-bottom: 1rem;
            text-transform: uppercase;
            color: var(--accent-color);
            border-left: 4px solid var(--accent-color);
            padding-left: 0.8rem;
            text-shadow: 0 0 10px rgba(0, 71, 171, 0.2);
            will-change: transform, opacity;
        }

        .award-item {
            display: flex;
            justify-content: space-between;
            border-bottom: 1px solid var(--nav-border);
            padding: 0.8rem 0;
            font-family: var(--font-mono);
            font-size: 0.9rem;
            transition: all 0.3s ease;
            will-change: transform, opacity;
        }

        .award-item:hover {
            border-color: var(--accent-color);
            padding-left: 0.5rem;
            color: var(--accent-color);
            background: linear-gradient(90deg, transparent, rgba(0, 71, 171, 0.05));
        }

        .award-item span:last-child {
            color: var(--accent-color);
            font-weight: 700;
        }

        /* --- Work List --- */
        .work-list {
            padding: 0 2rem 4rem 2rem;
        }

        .work-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-top: 2px solid var(--text-color);
            padding: 1.5rem 0;
            cursor: pointer;
            opacity: 0;
            transform: scale(0.9) translateX(0);
            transform-origin: left center;
            will-change: transform, opacity;
        }

        .work-item:last-child {
            border-bottom: 2px solid var(--text-color);
        }

        .work-item:hover {
            background: linear-gradient(90deg, var(--accent-color), var(--secondary-accent));
            color: var(--white-accent);
            transform: scale(1.02) translateX(10px);
            border-color: var(--accent-color);
            box-shadow: 0 4px 15px rgba(0, 71, 171, 0.3);
        }

        .work-item:hover .project-code {
            color: var(--white-accent);
            opacity: 0.9;
        }

        .project-name {
            font-size: 2rem;
            font-weight: 700;
            text-transform: uppercase;
            transition: transform 0.3s ease;
            will-change: transform;
        }

        .work-item:hover .project-name {
            transform: translateX(10px);
        }

        .project-code {
            font-family: var(--font-mono);
            opacity: 0.6;
            transition: all 0.3s ease;
        }

        /* --- Blog List --- */
        .blog-list {
            padding: 0 2rem 4rem 2rem;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .blog-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 16px;
            padding: 2rem;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            opacity: 0;
            transform: translateY(30px);
            will-change: transform, opacity;
        }

        .blog-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 12px 40px rgba(0, 71, 171, 0.25);
            border-color: var(--accent-color);
            background: rgba(255, 255, 255, 0.15);
        }

        .blog-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            font-family: var(--font-mono);
            font-size: 0.85rem;
        }

        .blog-meta time {
            color: var(--accent-color);
            font-weight: 600;
        }

        .blog-tag {
            background: linear-gradient(135deg, var(--accent-color), var(--secondary-accent));
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .blog-title {
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 0.8rem;
            line-height: 1.4;
        }

        .blog-title a {
            color: var(--text-color);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .blog-title a:hover {
            color: var(--accent-color);
        }

        .blog-excerpt {
            font-size: 0.95rem;
            line-height: 1.6;
            color: var(--text-color);
            opacity: 0.8;
        }

        /* --- Footer --- */
        footer {
            padding: 4rem 2rem;
            text-align: center;
            font-family: var(--font-mono);
            position: relative;
            z-index: 1;
        }

        .email {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1rem;
            display: block;
            color: var(--accent-color);
            transition: all 0.3s ease;
            text-decoration: none;
            will-change: transform, color;
        }

        .email:hover {
            color: var(--secondary-accent);
            transform: scale(1.05);
            text-shadow: 0 0 20px rgba(30, 144, 255, 0.3);
        }

        /* --- Mobile --- */
        @media (max-width: 768px) {
            h1 { font-size: 3.5rem; }
            .about-grid { grid-template-columns: 1fr; }
            .project-name { font-size: 1.5rem; }
            header {
                flex-direction: column;
                gap: 1rem;
                align-items: flex-start;
                margin: 0 1rem;
                padding: 1.2rem 1.5rem;
                top: 10px;
            }
            .nav-links a { margin-left: 0; margin-right: 1.5rem; }

            /* 移动端音乐按钮稍小 */
            .music-toggle {
                width: 48px;
                height: 48px;
                bottom: 1.5rem;
                right: 1.5rem;
            }
            .music-toggle svg {
                width: 20px;
                height: 20px;
            }
        }
    </style>
</head>
<body>
    <canvas id="line-art-canvas"></canvas>

    <header>
        <div class="logo">Amorend</div>
        <nav class="nav-links">
            <a href="#about">关于</a>
            <a href="work.html">作品</a>
            <a href="blog.html">博客</a>
            <a href="#contact">联系</a>
            <a id="theme-toggle">Change Contrast</a>
        </nav>
    </header>

    <!-- 音乐控制浮动按钮 -->
    <button id="music-toggle" class="music-toggle" title="播放/暂停音乐">
        <svg class="music-icon" viewBox="0 0 24 24">
            <path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/>
        </svg>
    </button>

    <!-- 隐藏的音频播放器 -->
    <audio id="bg-music" loop>
        <source src="Music/在雨后醒来.mp3" type="audio/mpeg">
    </audio>

    <div class="section-divider"></div>

    <section class="hero">
        <h1>Creative<br>Developer<br>SDE</h1>
        <p class="hero-subtitle">
            [我是一名专注于AI应用的软件工程师]<br>
            Based in 福州 · Available for freelance
        </p>
    </section>

    <div class="section-divider"></div>

    <section id="about">
        <div class="section-title">ABOUT</div>
        <div class="about-grid">
            <div class="bio">
                <p>目前就读于厦门大学，大二软件工程专业。</p>
                <div class="bio-details">
                    <p>主要研究领域：AI Agent，计算机视觉，大语言模型。我擅长Python和CPP，目前主要学习/感兴趣的方向为Agent和AI infra。致力于在AI领域做出创新性贡献。</p>
                    <br>
                    <p>曾作为独立研究者，对AI在生物医学影像的应用进行过深入研究。</p>
                </div>
            </div>
            <div class="awards">
                <h3>Honors</h3>
                <div class="award-item">
                    <span>ICML[2025] - Composable Distillation for Open-Vocabulary Dense Pathology</span>
                    <span>2025</span>
                </div>
                <div class="award-item">
                    <span>BIBM[2025] - Enhancing Pathology Vision-Language Pre-Training: A Robust Baseline</span>
                    <span>2025</span>
                </div>
                <div class="award-item">
                    <span>Scientific Report - Caption as A Bridge: Fine Grained Reranking for Knowledge Augmented Visual Question Answering</span>
                    <span>2025</span>
                </div>
            </div>
        </div>
    </section>

    <div class="section-divider"></div>

    <section id="work">
        <div class="section-title">RELATED WORK</div>
        <div class="work-list">
            <a href="#" class="work-item">
                <span class="project-name">[项目名称 A]</span>
                <span class="project-code">#2024-001</span>
            </a>
            <a href="#" class="work-item">
                <span class="project-name">[项目名称 B]</span>
                <span class="project-code">#2023-008</span>
            </a>
            <a href="#" class="work-item">
                <span class="project-name">[个人作品集]</span>
                <span class="project-code">#PORT-FOLIO</span>
            </a>
            <a href="#" class="work-item">
                <span class="project-name">[SaaS 平台开发]</span>
                <span class="project-code">#DEV-TOOL</span>
            </a>
        </div>
    </section>

    <div class="section-divider"></div>

    <section id="blog">
        <div class="section-title">LATEST BLOG</div>
        <div class="blog-list">
            <article class="blog-card">
                <div class="blog-meta">
                    <time datetime="2026-01-15">2026-01-15</time>
                    <span class="blog-tag">#AI-Agent</span>
                </div>
                <h3 class="blog-title">
                    <a href="blog-post.html">探索 AI Agent 的未来：从理论到实践</a>
                </h3>
                <p class="blog-excerpt">深入探讨 AI Agent 的架构设计、实现细节以及在实际项目中的应用经验...</p>
            </article>

            <article class="blog-card">
                <div class="blog-meta">
                    <time datetime="2026-01-10">2026-01-10</time>
                    <span class="blog-tag">#Computer-Vision</span>
                </div>
                <h3 class="blog-title">
                    <a href="blog-post.html">医学影像分析中的深度学习技术</a>
                </h3>
                <p class="blog-excerpt">分享在病理图像分析项目中使用的深度学习模型和优化策略...</p>
            </article>

            <article class="blog-card">
                <div class="blog-meta">
                    <time datetime="2026-01-05">2026-01-05</time>
                    <span class="blog-tag">#LLM</span>
                </div>
                <h3 class="blog-title">
                    <a href="blog-post.html">大语言模型微调实践指南</a>
                </h3>
                <p class="blog-excerpt">从数据准备到模型部署，详细记录大语言模型微调的完整流程...</p>
            </article>

            <article class="blog-card">
                <div class="blog-meta">
                    <time datetime="2025-12-28">2025-12-28</time>
                    <span class="blog-tag">#AI-Infra</span>
                </div>
                <h3 class="blog-title">
                    <a href="blog-post.html">构建高效的 AI 基础设施</a>
                </h3>
                <p class="blog-excerpt">如何设计和搭建可扩展的 AI 基础设施，支持大规模模型训练和推理...</p>
            </article>
        </div>
    </section>

    <div class="section-divider"></div>

    <footer id="contact">
        <a href="mailto:your.email@example.com" class="email">evilgenius0256@gmail.com</a>
        <p>Amorend © 2026</p>
        <br>
    </footer>

    <script>
        // 注册 ScrollTrigger 插件
        gsap.registerPlugin(ScrollTrigger);

        // === Lenis 平滑滚动 ===
        const lenis = new Lenis({
            duration: 0.8,
            easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
            direction: 'vertical',
            gestureDirection: 'vertical',
            smooth: true,
            mouseMultiplier: 1.5,
            smoothTouch: false,
            touchMultiplier: 2,
        });

        // 与 GSAP 同步
        lenis.on('scroll', ScrollTrigger.update);

        // 添加到 GSAP ticker
        gsap.ticker.add((time) => {
            lenis.raf(time * 1000);
        });

        // 禁用 lag smoothing 以获得更流畅的体验
        gsap.ticker.lagSmoothing(0);

        // 页面加载完成后添加 loaded 类
        window.addEventListener('load', () => {
            document.body.classList.add('loaded');
        });

        // === Generative Line Art Background ===
        (function() {
            const canvas = document.getElementById('line-art-canvas');
            const ctx = canvas.getContext('2d');

            // High DPI (Retina) 支持
            let dpr = window.devicePixelRatio || 1;
            let width, height;

            // 鼠标位置
            let mouseX = -1000;
            let mouseY = -1000;
            let mouseInfluence = 0; // 鼠标影响强度（0-1）
            let lastMouseX = -1000;
            let lastMouseY = -1000;

            // 线条配置
            const lineCount = 80; // 线条数量
            const lines = [];

            // 初始化线条
            function initLines() {
                lines.length = 0;
                for (let i = 0; i < lineCount; i++) {
                    lines.push({
                        x: (i / lineCount) * width,
                        baseX: (i / lineCount) * width, // 原始位置
                        phase: Math.random() * Math.PI * 2, // 随机相位
                        amplitude: Math.random() * 20 + 10, // 随机振幅
                        frequency: Math.random() * 0.02 + 0.01, // 随机频率
                        speed: Math.random() * 0.002 + 0.001 // 缓慢流动速度
                    });
                }
            }

            // 调整画布大小
            function resize() {
                dpr = window.devicePixelRatio || 1;
                width = window.innerWidth;
                height = window.innerHeight;

                canvas.width = width * dpr;
                canvas.height = height * dpr;
                canvas.style.width = width + 'px';
                canvas.style.height = height + 'px';

                ctx.scale(dpr, dpr);
                initLines();
            }

            // Perlin Noise 简化版（用于更自然的波浪）
            function noise(x) {
                return Math.sin(x) * 0.5 + Math.sin(x * 2.1) * 0.25 + Math.sin(x * 4.3) * 0.125;
            }

            // 绘制线条
            function drawLines(time) {
                ctx.clearRect(0, 0, width, height);

                // 设置线条样式
                ctx.strokeStyle = 'rgba(0, 26, 51, 0.3)';
                ctx.lineWidth = 1.5;

                for (let line of lines) {
                    ctx.beginPath();

                    // 每条线的起点
                    let startX = line.baseX;
                    let startY = 0;

                    ctx.moveTo(startX, startY);

                    // 绘制曲线上的点
                    const segments = 50;
                    for (let i = 0; i <= segments; i++) {
                        const y = (i / segments) * height;
                        const progress = i / segments;

                        // 基础正弦波扭曲（缓慢流动）
                        const baseWave = Math.sin(y * line.frequency + time * line.speed + line.phase) * line.amplitude;

                        // 计算与鼠标的距离
                        const dx = line.baseX - mouseX;
                        const dy = y - mouseY;
                        const distance = Math.sqrt(dx * dx + dy * dy);
                        const maxDistance = 300; // 鼠标影响半径

                        // 鼠标涟漪效果
                        let rippleDisplacement = 0;
                        if (distance < maxDistance && mouseInfluence > 0) {
                            // 距离越近，影响越大
                            const influence = (1 - distance / maxDistance) * mouseInfluence;

                            // 创建波浪涟漪
                            const wavePhase = distance * 0.05 - time * 0.003;
                            const rippleWave = Math.sin(wavePhase) * 80 * influence;

                            // 添加径向扩散效果
                            const radialPush = Math.sin(wavePhase * 0.5) * 40 * influence * (dx / distance);

                            rippleDisplacement = rippleWave + radialPush;
                        }

                        // 组合所有位移
                        const totalDisplacement = baseWave + rippleDisplacement;

                        ctx.lineTo(line.baseX + totalDisplacement, y);
                    }

                    ctx.stroke();
                }
            }

            // 动画循环
            let time = 0;
            function animate() {
                time += 16; // 毫秒

                // 鼠标影响衰减
                if (mouseInfluence > 0) {
                    mouseInfluence -= 0.008; // 缓慢衰减
                    if (mouseInfluence < 0) mouseInfluence = 0;
                }

                // 如果鼠标移动，增加影响强度
                if (mouseX !== lastMouseX || mouseY !== lastMouseY) {
                    mouseInfluence = Math.min(mouseInfluence + 0.15, 1);
                    lastMouseX = mouseX;
                    lastMouseY = mouseY;
                }

                drawLines(time);
                requestAnimationFrame(animate);
            }

            // 鼠标移动事件
            document.addEventListener('mousemove', (e) => {
                mouseX = e.clientX;
                mouseY = e.clientY;
            });

            // 鼠标离开窗口
            document.addEventListener('mouseleave', () => {
                mouseX = -1000;
                mouseY = -1000;
            });

            // 触摸设备支持
            document.addEventListener('touchmove', (e) => {
                if (e.touches.length > 0) {
                    mouseX = e.touches[0].clientX;
                    mouseY = e.touches[0].clientY;
                }
            });

            document.addEventListener('touchend', () => {
                mouseX = -1000;
                mouseY = -1000;
            });

            // 初始化
            resize();
            window.addEventListener('resize', resize);
            animate();
        })();

        // === 主题切换逻辑 ===
        const toggleBtn = document.getElementById('theme-toggle');
        const root = document.documentElement;

        // 检查系统偏好
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            root.setAttribute('data-theme', 'dark');
        }

        toggleBtn.addEventListener('click', () => {
            const currentTheme = root.getAttribute('data-theme');
            if (currentTheme === 'dark') {
                root.setAttribute('data-theme', 'light');
            } else {
                root.setAttribute('data-theme', 'dark');
            }
        });

        // === 音乐控制 ===
        const bgMusic = document.getElementById('bg-music');
        const musicToggle = document.getElementById('music-toggle');

        // 尝试自动播放
        function attemptAutoPlay() {
            bgMusic.play().then(() => {
                musicToggle.classList.add('playing');
            }).catch(error => {
                console.log('自动播放被阻止，需要用户交互');
                musicToggle.classList.remove('playing');
            });
        }

        // 页面加载时尝试自动播放
        window.addEventListener('load', attemptAutoPlay);

        // 点击按钮切换播放/暂停
        musicToggle.addEventListener('click', () => {
            if (bgMusic.paused) {
                bgMusic.play();
                musicToggle.classList.add('playing');
            } else {
                bgMusic.pause();
                musicToggle.classList.remove('playing');
            }
        });

        // === GSAP 滚动动画 ===

        // Hero 标题动画
        gsap.from('.hero h1', {
            y: 100,
            opacity: 0,
            duration: 1.2,
            ease: 'power4.out'
        });

        gsap.from('.hero-subtitle', {
            y: 50,
            opacity: 0,
            duration: 1,
            delay: 0.3,
            ease: 'power3.out'
        });

        // 作品列表动画 - 随滚动触发
        const workItems = document.querySelectorAll('.work-item');
        workItems.forEach((item, index) => {
            gsap.to(item, {
                opacity: 1,
                scale: 1,
                duration: 0.8,
                ease: 'elastic.out(1, 0.75)',
                scrollTrigger: {
                    trigger: item,
                    start: 'top 85%',
                    end: 'top 60%',
                    scrub: 1,
                    toggleActions: 'play none none reverse'
                }
            });
        });

        // 部分标题动画 - 使用 transform 而非 width 避免重排
        gsap.utils.toArray('.section-title').forEach(title => {
            gsap.from(title, {
                scaleX: 0,
                opacity: 0,
                transformOrigin: 'left center',
                duration: 0.8,
                ease: 'power3.out',
                scrollTrigger: {
                    trigger: title,
                    start: 'top 85%',
                    toggleActions: 'play none none reverse'
                }
            });
        });

        // About 部分动画
        gsap.from('.bio', {
            x: -50,
            opacity: 0,
            duration: 1,
            ease: 'power3.out',
            scrollTrigger: {
                trigger: '.bio',
                start: 'top 80%',
                toggleActions: 'play none none reverse'
            }
        });

        gsap.from('.awards', {
            x: 50,
            opacity: 0,
            duration: 1,
            delay: 0.2,
            ease: 'power3.out',
            scrollTrigger: {
                trigger: '.awards',
                start: 'top 80%',
                toggleActions: 'play none none reverse'
            }
        });

        // Marquee 文字滚动增强
        gsap.to('.marquee-content', {
            xPercent: -50,
            ease: 'none',
            scrollTrigger: {
                trigger: '.marquee-container',
                start: 'top bottom',
                end: 'bottom top',
                scrub: 0.5
            }
        });

        // 奖项列表逐个出现
        gsap.utils.toArray('.award-item').forEach((award, i) => {
            gsap.from(award, {
                y: 20,
                opacity: 0,
                duration: 0.6,
                delay: i * 0.1,
                ease: 'power2.out',
                scrollTrigger: {
                    trigger: award,
                    start: 'top 90%',
                    toggleActions: 'play none none reverse'
                }
            });
        });

        // 刷新 ScrollTrigger 以确保所有动画正确计算
        ScrollTrigger.refresh();
    </script>
</body>
</html>